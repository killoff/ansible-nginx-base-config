# DO NOT EDIT - MAINTAINED BY ANSIBLE
# https://github.com/ufirstgroup/ansible-nginx-base-config

# Request id is now provided by nginx per default.

set_by_lua_block $ufg_request_id {
    local request_id = ngx.var.request_id
    -- add header to request (this is a lua comment ...)
    ngx.req.set_header("X-Request-ID", request_id)
    return request_id
};

# adding a header to a request without lua is a bit more complicated:
# proxy_set_header X-Request-ID $request_id;
# fastcgi_param HTTP_X_REQUEST_ID $request_id;
# ... maybe more

# add header to response
add_header X-Request-ID $request_id always;
